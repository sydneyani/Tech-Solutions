{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sydne\\\\railway-management-system\\\\frontend\\\\src\\\\components\\\\Payments.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './Payments.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Payments = ({\n  seat,\n  schedule,\n  user,\n  onSuccess,\n  onCancel,\n  selectedSchedule\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [paymentMethod, setPaymentMethod] = useState('credit');\n  const [cardNumber, setCardNumber] = useState('');\n  const [expiryDate, setExpiryDate] = useState('');\n  const [cvv, setCvv] = useState('');\n  const [nameOnCard, setNameOnCard] = useState('');\n\n  // Define base fares for different seat classes\n  const baseFares = {\n    'AC': 1500,\n    // AC class base fare\n    'SL': 800 // Sleeper class base fare\n  };\n\n  // Determine seat class based on seat number\n  const getSeatClass = seatNumber => {\n    if (!seatNumber) return 'AC'; // Default to AC if no seat number\n    return seatNumber.startsWith('S') ? 'SL' : 'AC';\n  };\n\n  // Calculate fare based on seat class and user role\n  const calculateFare = () => {\n    const seatClass = getSeatClass(seat === null || seat === void 0 ? void 0 : seat.seat_number);\n    const baseFare = baseFares[seatClass] || baseFares['AC']; // Default to AC if class not found\n\n    // Apply 50% discount for staff members\n    const discountFactor = (user === null || user === void 0 ? void 0 : user.role) === 'Staff' ? 0.5 : 1;\n    return baseFare * discountFactor;\n  };\n  const fareAmount = calculateFare();\n  const formatCurrency = amount => {\n    return `₹${amount.toFixed(2)}`;\n  };\n  const formatCardNumber = value => {\n    // Remove all non-digit characters\n    const cleaned = value.replace(/\\D/g, '');\n\n    // Limit to 16 digits\n    const trimmed = cleaned.substring(0, 16);\n\n    // Add spaces every 4 digits\n    const formatted = trimmed.replace(/(\\d{4})(?=\\d)/g, '$1 ');\n    return formatted;\n  };\n  const handleCardNumberChange = e => {\n    setCardNumber(formatCardNumber(e.target.value));\n  };\n  const handleExpiryDateChange = e => {\n    let value = e.target.value.replace(/\\D/g, '');\n\n    // Format as MM/YY\n    if (value.length > 2) {\n      value = `${value.substring(0, 2)}/${value.substring(2, 4)}`;\n    }\n    setExpiryDate(value);\n  };\n  const handleCvvChange = e => {\n    // Only allow 3-4 digits\n    const value = e.target.value.replace(/\\D/g, '').substring(0, 4);\n    setCvv(value);\n  };\n\n  // Simplified payment processing - only sending necessary fields\n  const processPayment = async () => {\n    // Form validation\n    if ((paymentMethod === 'credit' || paymentMethod === 'debit') && (!cardNumber || !expiryDate || !cvv || !nameOnCard)) {\n      setError('Please fill in all payment details');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    setSuccessMessage(null);\n    try {\n      // Simplified payload - only sending what the database expects\n      const paymentData = {\n        user_id: user.user_id,\n        seat_id: seat.seat_id,\n        schedule_id: selectedSchedule,\n        amount: fareAmount,\n        payment_method: paymentMethod\n      };\n      console.log('Payment data being sent:', paymentData);\n\n      // Process payment\n      const paymentResponse = await axios.post('http://localhost:5000/api/payments/process', paymentData);\n      console.log('Payment response:', paymentResponse.data);\n      if (paymentResponse.data.success) {\n        // Create ticket after successful payment\n        const ticketResponse = await axios.post('http://localhost:5000/api/tickets/create', {\n          booking_id: paymentResponse.data.booking_id\n        });\n        console.log('Ticket response:', ticketResponse.data);\n        setLoading(false);\n        onSuccess(ticketResponse.data);\n      } else {\n        throw new Error('Payment failed');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error during payment:', err);\n\n      // Check for seat already booked error\n      if ((_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && _err$response$data.seatAlreadyBooked) {\n        setError('This seat has already been booked. Please select another seat.');\n      } else {\n        var _err$response2, _err$response2$data;\n        setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Payment processing failed. Please try again.');\n      }\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Payment Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: onCancel,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Booking Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Train:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: schedule === null || schedule === void 0 ? void 0 : schedule.train_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: new Date(schedule === null || schedule === void 0 ? void 0 : schedule.travel_date).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [schedule === null || schedule === void 0 ? void 0 : schedule.departure_time, \" to \", schedule === null || schedule === void 0 ? void 0 : schedule.arrival_time]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Seat:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: seat === null || seat === void 0 ? void 0 : seat.seat_number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-row fare\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Fare:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: formatCurrency(fareAmount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), (user === null || user === void 0 ? void 0 : user.role) === 'Staff' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"discount-badge\",\n            children: \"Staff Discount: 50% Off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: successMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-methods\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"method-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: paymentMethod === 'credit' ? 'active' : '',\n            onClick: () => setPaymentMethod('credit'),\n            children: \"Credit Card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: paymentMethod === 'debit' ? 'active' : '',\n            onClick: () => setPaymentMethod('debit'),\n            children: \"Debit Card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: paymentMethod === 'netbanking' ? 'active' : '',\n            onClick: () => setPaymentMethod('netbanking'),\n            children: \"Net Banking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-form\",\n          children: [(paymentMethod === 'credit' || paymentMethod === 'debit') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Name on Card\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"John Doe\",\n                value: nameOnCard,\n                onChange: e => setNameOnCard(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Card Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"0000 0000 0000 0000\",\n                value: cardNumber,\n                onChange: handleCardNumberChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group half\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Expiry Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"MM/YY\",\n                  value: expiryDate,\n                  onChange: handleExpiryDateChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group half\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"CVV\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"123\",\n                  value: cvv,\n                  onChange: handleCvvChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), paymentMethod === 'netbanking' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"netbanking-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bank-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"sbi\",\n                name: \"bank\",\n                value: \"sbi\",\n                defaultChecked: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"sbi\",\n                children: \"State Bank of India\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bank-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"hdfc\",\n                name: \"bank\",\n                value: \"hdfc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"hdfc\",\n                children: \"HDFC Bank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bank-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"icici\",\n                name: \"bank\",\n                value: \"icici\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"icici\",\n                children: \"ICICI Bank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bank-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"axis\",\n                name: \"bank\",\n                value: \"axis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"axis\",\n                children: \"Axis Bank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payment-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-btn\",\n          onClick: onCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"pay-btn\",\n          onClick: processPayment,\n          disabled: loading || successMessage,\n          children: loading ? 'Processing...' : `Pay ${formatCurrency(fareAmount)}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(Payments, \"7vdceGyB+EjwzT/XRin1LqvTMwA=\");\n_c = Payments;\nexport default Payments;\nvar _c;\n$RefreshReg$(_c, \"Payments\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Payments","seat","schedule","user","onSuccess","onCancel","selectedSchedule","_s","loading","setLoading","error","setError","successMessage","setSuccessMessage","paymentMethod","setPaymentMethod","cardNumber","setCardNumber","expiryDate","setExpiryDate","cvv","setCvv","nameOnCard","setNameOnCard","baseFares","getSeatClass","seatNumber","startsWith","calculateFare","seatClass","seat_number","baseFare","discountFactor","role","fareAmount","formatCurrency","amount","toFixed","formatCardNumber","value","cleaned","replace","trimmed","substring","formatted","handleCardNumberChange","e","target","handleExpiryDateChange","length","handleCvvChange","processPayment","paymentData","user_id","seat_id","schedule_id","payment_method","console","log","paymentResponse","post","data","success","ticketResponse","booking_id","Error","err","_err$response","_err$response$data","response","seatAlreadyBooked","_err$response2","_err$response2$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","train_name","Date","travel_date","toLocaleDateString","departure_time","arrival_time","type","placeholder","onChange","id","name","defaultChecked","htmlFor","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Sydne/railway-management-system/frontend/src/components/Payments.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './Payments.css';\r\n\r\nconst Payments = ({ \r\n  seat, \r\n  schedule,\r\n  user, \r\n  onSuccess, \r\n  onCancel,\r\n  selectedSchedule\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [paymentMethod, setPaymentMethod] = useState('credit');\r\n  const [cardNumber, setCardNumber] = useState('');\r\n  const [expiryDate, setExpiryDate] = useState('');\r\n  const [cvv, setCvv] = useState('');\r\n  const [nameOnCard, setNameOnCard] = useState('');\r\n  \r\n  // Define base fares for different seat classes\r\n  const baseFares = {\r\n    'AC': 1500, // AC class base fare\r\n    'SL': 800,  // Sleeper class base fare\r\n  };\r\n\r\n  // Determine seat class based on seat number\r\n  const getSeatClass = (seatNumber) => {\r\n    if (!seatNumber) return 'AC'; // Default to AC if no seat number\r\n    return seatNumber.startsWith('S') ? 'SL' : 'AC';\r\n  };\r\n\r\n  // Calculate fare based on seat class and user role\r\n  const calculateFare = () => {\r\n    const seatClass = getSeatClass(seat?.seat_number);\r\n    const baseFare = baseFares[seatClass] || baseFares['AC']; // Default to AC if class not found\r\n    \r\n    // Apply 50% discount for staff members\r\n    const discountFactor = user?.role === 'Staff' ? 0.5 : 1;\r\n    return baseFare * discountFactor;\r\n  };\r\n\r\n  const fareAmount = calculateFare();\r\n  \r\n  const formatCurrency = (amount) => {\r\n    return `₹${amount.toFixed(2)}`;\r\n  };\r\n\r\n  const formatCardNumber = (value) => {\r\n    // Remove all non-digit characters\r\n    const cleaned = value.replace(/\\D/g, '');\r\n    \r\n    // Limit to 16 digits\r\n    const trimmed = cleaned.substring(0, 16);\r\n    \r\n    // Add spaces every 4 digits\r\n    const formatted = trimmed.replace(/(\\d{4})(?=\\d)/g, '$1 ');\r\n    \r\n    return formatted;\r\n  };\r\n\r\n  const handleCardNumberChange = (e) => {\r\n    setCardNumber(formatCardNumber(e.target.value));\r\n  };\r\n\r\n  const handleExpiryDateChange = (e) => {\r\n    let value = e.target.value.replace(/\\D/g, '');\r\n    \r\n    // Format as MM/YY\r\n    if (value.length > 2) {\r\n      value = `${value.substring(0, 2)}/${value.substring(2, 4)}`;\r\n    }\r\n    \r\n    setExpiryDate(value);\r\n  };\r\n\r\n  const handleCvvChange = (e) => {\r\n    // Only allow 3-4 digits\r\n    const value = e.target.value.replace(/\\D/g, '').substring(0, 4);\r\n    setCvv(value);\r\n  };\r\n\r\n  // Simplified payment processing - only sending necessary fields\r\n  const processPayment = async () => {\r\n    // Form validation\r\n    if ((paymentMethod === 'credit' || paymentMethod === 'debit') && \r\n        (!cardNumber || !expiryDate || !cvv || !nameOnCard)) {\r\n      setError('Please fill in all payment details');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccessMessage(null);\r\n    \r\n    try {\r\n      // Simplified payload - only sending what the database expects\r\n      const paymentData = {\r\n        user_id: user.user_id,\r\n        seat_id: seat.seat_id,\r\n        schedule_id: selectedSchedule,\r\n        amount: fareAmount,\r\n        payment_method: paymentMethod\r\n      };\r\n      \r\n      console.log('Payment data being sent:', paymentData);\r\n      \r\n      // Process payment\r\n      const paymentResponse = await axios.post('http://localhost:5000/api/payments/process', paymentData);\r\n      \r\n      console.log('Payment response:', paymentResponse.data);\r\n      \r\n      if (paymentResponse.data.success) {\r\n        // Create ticket after successful payment\r\n        const ticketResponse = await axios.post('http://localhost:5000/api/tickets/create', {\r\n          booking_id: paymentResponse.data.booking_id\r\n        });\r\n        \r\n        console.log('Ticket response:', ticketResponse.data);\r\n        \r\n        setLoading(false);\r\n        onSuccess(ticketResponse.data);\r\n      } else {\r\n        throw new Error('Payment failed');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error during payment:', err);\r\n      \r\n      // Check for seat already booked error\r\n      if (err.response?.data?.seatAlreadyBooked) {\r\n        setError('This seat has already been booked. Please select another seat.');\r\n      } else {\r\n        setError(err.response?.data?.error || 'Payment processing failed. Please try again.');\r\n      }\r\n      \r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"payment-container\">\r\n      <div className=\"payment-modal\">\r\n        <div className=\"payment-header\">\r\n          <h2>Payment Details</h2>\r\n          <button className=\"close-btn\" onClick={onCancel}>×</button>\r\n        </div>\r\n        \r\n        <div className=\"booking-summary\">\r\n          <h3>Booking Summary</h3>\r\n          <div className=\"summary-details\">\r\n            <div className=\"summary-row\">\r\n              <span>Train:</span>\r\n              <span>{schedule?.train_name}</span>\r\n            </div>\r\n            <div className=\"summary-row\">\r\n              <span>Date:</span>\r\n              <span>{new Date(schedule?.travel_date).toLocaleDateString()}</span>\r\n            </div>\r\n            <div className=\"summary-row\">\r\n              <span>Time:</span>\r\n              <span>{schedule?.departure_time} to {schedule?.arrival_time}</span>\r\n            </div>\r\n            <div className=\"summary-row\">\r\n              <span>Seat:</span>\r\n              <span>{seat?.seat_number}</span>\r\n            </div>\r\n            <div className=\"summary-row fare\">\r\n              <span>Fare:</span>\r\n              <span>{formatCurrency(fareAmount)}</span>\r\n            </div>\r\n            {user?.role === 'Staff' && (\r\n              <div className=\"discount-badge\">Staff Discount: 50% Off</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {successMessage && (\r\n          <div className=\"success-message\">\r\n            {successMessage}\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"payment-methods\">\r\n          <div className=\"method-selector\">\r\n            <button\r\n              className={paymentMethod === 'credit' ? 'active' : ''}\r\n              onClick={() => setPaymentMethod('credit')}\r\n            >\r\n              Credit Card\r\n            </button>\r\n            <button\r\n              className={paymentMethod === 'debit' ? 'active' : ''}\r\n              onClick={() => setPaymentMethod('debit')}\r\n            >\r\n              Debit Card\r\n            </button>\r\n            <button\r\n              className={paymentMethod === 'netbanking' ? 'active' : ''}\r\n              onClick={() => setPaymentMethod('netbanking')}\r\n            >\r\n              Net Banking\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"payment-form\">\r\n            {(paymentMethod === 'credit' || paymentMethod === 'debit') && (\r\n              <>\r\n                <div className=\"form-group\">\r\n                  <label>Name on Card</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"John Doe\"\r\n                    value={nameOnCard}\r\n                    onChange={(e) => setNameOnCard(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label>Card Number</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"0000 0000 0000 0000\"\r\n                    value={cardNumber}\r\n                    onChange={handleCardNumberChange}\r\n                  />\r\n                </div>\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group half\">\r\n                    <label>Expiry Date</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"MM/YY\"\r\n                      value={expiryDate}\r\n                      onChange={handleExpiryDateChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group half\">\r\n                    <label>CVV</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"123\"\r\n                      value={cvv}\r\n                      onChange={handleCvvChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n            \r\n            {paymentMethod === 'netbanking' && (\r\n              <div className=\"netbanking-options\">\r\n                <div className=\"bank-option\">\r\n                  <input type=\"radio\" id=\"sbi\" name=\"bank\" value=\"sbi\" defaultChecked />\r\n                  <label htmlFor=\"sbi\">State Bank of India</label>\r\n                </div>\r\n                <div className=\"bank-option\">\r\n                  <input type=\"radio\" id=\"hdfc\" name=\"bank\" value=\"hdfc\" />\r\n                  <label htmlFor=\"hdfc\">HDFC Bank</label>\r\n                </div>\r\n                <div className=\"bank-option\">\r\n                  <input type=\"radio\" id=\"icici\" name=\"bank\" value=\"icici\" />\r\n                  <label htmlFor=\"icici\">ICICI Bank</label>\r\n                </div>\r\n                <div className=\"bank-option\">\r\n                  <input type=\"radio\" id=\"axis\" name=\"bank\" value=\"axis\" />\r\n                  <label htmlFor=\"axis\">Axis Bank</label>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {error && <div className=\"payment-error\">{error}</div>}\r\n        \r\n        <div className=\"payment-actions\">\r\n          <button className=\"cancel-btn\" onClick={onCancel}>Cancel</button>\r\n          <button \r\n            className=\"pay-btn\" \r\n            onClick={processPayment}\r\n            disabled={loading || successMessage}\r\n          >\r\n            {loading ? 'Processing...' : `Pay ${formatCurrency(fareAmount)}`}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payments;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}